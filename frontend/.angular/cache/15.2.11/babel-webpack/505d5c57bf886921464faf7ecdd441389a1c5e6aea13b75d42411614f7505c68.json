{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/song.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction SongListComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \"\\n\");\n  }\n}\nfunction SongListComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"span\", 13);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction SongListComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" No songs found. Add songs to your library to get started.\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SongListComponent_div_13_tr_23_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const song_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(ctx_r6.getTempoClass(song_r5.tempo_category));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(song_r5.tempo_category);\n  }\n}\nfunction SongListComponent_div_13_tr_23_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Hit\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const song_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(ctx_r7.getHitClass(song_r5));\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/songs/edit\", a1];\n};\nfunction SongListComponent_div_13_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementStart(7, \"span\", 18);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵtemplate(11, SongListComponent_div_13_tr_23_span_11_Template, 2, 3, \"span\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\")(15, \"span\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtemplate(20, SongListComponent_div_13_tr_23_span_20_Template, 2, 2, \"span\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\")(22, \"div\", 21)(23, \"a\", 22);\n    i0.ɵɵtext(24, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function SongListComponent_div_13_tr_23_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const song_r5 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.deleteSong(song_r5.id));\n    });\n    i0.ɵɵtext(26, \"Delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const song_r5 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(song_r5.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(song_r5.artist);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", song_r5.key, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMap(ctx_r4.getKeyTypeClass(song_r5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.getKeyTypeLabel(song_r5));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", song_r5.tempo, \" BPM \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", song_r5.tempo_category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(song_r5.lead_vocalist || \"N/A\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(ctx_r4.getOriginalClass(song_r5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.getOriginalLabel(song_r5));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.formatDuration(song_r5.duration));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", song_r5.is_hit);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(15, _c0, song_r5.id));\n  }\n}\nfunction SongListComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"table\", 16)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Artist\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Key\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Tempo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Vocalist\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"Duration\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\");\n    i0.ɵɵtext(19, \"Hit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\");\n    i0.ɵɵtext(21, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"tbody\");\n    i0.ɵɵtemplate(23, SongListComponent_div_13_tr_23_Template, 27, 17, \"tr\", 17);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(23);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.songs);\n  }\n}\nexport class SongListComponent {\n  constructor(songService) {\n    this.songService = songService;\n    this.songs = [];\n    this.loading = true;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.loadSongs();\n  }\n  loadSongs() {\n    this.loading = true;\n    this.songService.getSongs().subscribe({\n      next: data => {\n        this.songs = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Failed to load songs. Please try again later.';\n        this.loading = false;\n        console.error('Error loading songs:', err);\n      }\n    });\n  }\n  deleteSong(id) {\n    if (confirm('Are you sure you want to delete this song?')) {\n      this.songService.deleteSong(id).subscribe({\n        next: () => {\n          this.songs = this.songs.filter(song => song.id !== id);\n        },\n        error: err => {\n          this.error = 'Failed to delete song. Please try again later.';\n          console.error('Error deleting song:', err);\n        }\n      });\n    }\n  }\n  // Helper methods for displaying song information\n  getKeyTypeClass(song) {\n    return song.is_minor ? 'badge bg-secondary' : 'badge bg-primary';\n  }\n  getKeyTypeLabel(song) {\n    return song.is_minor ? 'Minor' : 'Major';\n  }\n  getTempoClass(category) {\n    if (!category) return 'badge bg-secondary';\n    switch (category.toLowerCase()) {\n      case 'slow':\n        return 'badge bg-info';\n      case 'medium':\n        return 'badge bg-primary';\n      case 'fast':\n        return 'badge bg-danger';\n      default:\n        return 'badge bg-secondary';\n    }\n  }\n  getOriginalClass(song) {\n    return song.is_original ? 'badge bg-success' : 'badge bg-warning text-dark';\n  }\n  getOriginalLabel(song) {\n    return song.is_original ? 'Original' : 'Cover';\n  }\n  getHitClass(song) {\n    return song.is_hit ? 'badge bg-danger' : 'badge bg-secondary';\n  }\n  formatDuration(seconds) {\n    if (!seconds) return 'N/A';\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  }\n  static {\n    this.ɵfac = function SongListComponent_Factory(t) {\n      return new (t || SongListComponent)(i0.ɵɵdirectiveInject(i1.SongService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SongListComponent,\n      selectors: [[\"app-song-list\"]],\n      decls: 14,\n      vars: 4,\n      consts: [[1, \"row\", \"mb-4\"], [1, \"col\"], [1, \"col-auto\"], [1, \"btn-group\"], [\"routerLink\", \"/songs/add\", 1, \"btn\", \"btn-primary\"], [\"routerLink\", \"/songs/upload\", 1, \"btn\", \"btn-secondary\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"d-flex justify-content-center\", 4, \"ngIf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"d-flex\", \"justify-content-center\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-info\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [1, \"ms-1\"], [\"class\", \"ms-1\", 3, \"class\", 4, \"ngIf\"], [3, \"class\", 4, \"ngIf\"], [1, \"btn-group\", \"btn-group-sm\"], [1, \"btn\", \"btn-outline-primary\", 3, \"routerLink\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"]],\n      template: function SongListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"Song Library\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"a\", 4);\n          i0.ɵɵtext(7, \"Add New Song\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"a\", 5);\n          i0.ɵɵtext(9, \"Upload CSV\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(10, SongListComponent_div_10_Template, 2, 1, \"div\", 6);\n          i0.ɵɵtemplate(11, SongListComponent_div_11_Template, 4, 0, \"div\", 7);\n          i0.ɵɵtemplate(12, SongListComponent_div_12_Template, 2, 0, \"div\", 8);\n          i0.ɵɵtemplate(13, SongListComponent_div_13_Template, 24, 1, \"div\", 9);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.songs.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.songs.length > 0);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zb25nLWxpc3Qvc29uZy1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtCQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLyogU29uZyBsaXN0IGNvbXBvbmVudCBzdHlsZXMgKi9cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["i0","SongListComponent","constructor","songService","ngOnInit","loadSongs","loading","getSongs","subscribe","next","data","songs","error","err","console","deleteSong","id","confirm","filter","song","getKeyTypeClass","is_minor","getKeyTypeLabel","getTempoClass","category","toLowerCase","getOriginalClass","is_original","getOriginalLabel","getHitClass","is_hit","formatDuration","seconds","minutes","Math","floor","remainingSeconds","toString","padStart","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\joe.kasmann\\CascadeProjects\\setlist-generator\\frontend\\src\\app\\components\\song-list\\song-list.component.html","C:\\Users\\joe.kasmann\\CascadeProjects\\setlist-generator\\frontend\\src\\app\\components\\song-list\\song-list.component.ts"],"sourcesContent":["<div class=\"row mb-4\">\n  <div class=\"col\">\n    <h2>Song Library</h2>\n  </div>\n  <div class=\"col-auto\">\n    <div class=\"btn-group\">\n      <a routerLink=\"/songs/add\" class=\"btn btn-primary\">Add New Song</a>\n      <a routerLink=\"/songs/upload\" class=\"btn btn-secondary\">Upload CSV</a>\n    </div>\n  </div>\n</div>\n\n<div *ngIf=\"error\" class=\"alert alert-danger\">\n  {{ error }}\n</div>\n\n<div *ngIf=\"loading\" class=\"d-flex justify-content-center\">\n  <div class=\"spinner-border text-primary\" role=\"status\">\n    <span class=\"visually-hidden\">Loading...</span>\n  </div>\n</div>\n\n<div *ngIf=\"!loading && songs.length === 0\" class=\"alert alert-info\">\n  No songs found. Add songs to your library to get started.\n</div>\n\n<div *ngIf=\"!loading && songs.length > 0\" class=\"table-responsive\">\n  <table class=\"table table-striped table-hover\">\n    <thead>\n      <tr>\n        <th>Title</th>\n        <th>Artist</th>\n        <th>Key</th>\n        <th>Tempo</th>\n        <th>Vocalist</th>\n        <th>Type</th>\n        <th>Duration</th>\n        <th>Hit</th>\n        <th>Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let song of songs\">\n        <td>{{ song.title }}</td>\n        <td>{{ song.artist }}</td>\n        <td>\n          {{ song.key }}\n          <span [class]=\"getKeyTypeClass(song)\" class=\"ms-1\">{{ getKeyTypeLabel(song) }}</span>\n        </td>\n        <td>\n          {{ song.tempo }} BPM\n          <span *ngIf=\"song.tempo_category\" [class]=\"getTempoClass(song.tempo_category)\" class=\"ms-1\">{{ song.tempo_category }}</span>\n        </td>\n        <td>{{ song.lead_vocalist || 'N/A' }}</td>\n        <td>\n          <span [class]=\"getOriginalClass(song)\">{{ getOriginalLabel(song) }}</span>\n        </td>\n        <td>{{ formatDuration(song.duration) }}</td>\n        <td>\n          <span *ngIf=\"song.is_hit\" [class]=\"getHitClass(song)\">Hit</span>\n        </td>\n        <td>\n          <div class=\"btn-group btn-group-sm\">\n            <a [routerLink]=\"['/songs/edit', song.id]\" class=\"btn btn-outline-primary\">Edit</a>\n            <button (click)=\"deleteSong(song.id!)\" class=\"btn btn-outline-danger\">Delete</button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Song } from '../../models/song.model';\nimport { SongService } from '../../services/song.service';\n\n@Component({\n  selector: 'app-song-list',\n  templateUrl: './song-list.component.html',\n  styleUrls: ['./song-list.component.scss']\n})\nexport class SongListComponent implements OnInit {\n  songs: Song[] = [];\n  loading = true;\n  error = '';\n\n  constructor(private songService: SongService) { }\n\n  ngOnInit(): void {\n    this.loadSongs();\n  }\n\n  loadSongs(): void {\n    this.loading = true;\n    this.songService.getSongs().subscribe({\n      next: (data) => {\n        this.songs = data;\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = 'Failed to load songs. Please try again later.';\n        this.loading = false;\n        console.error('Error loading songs:', err);\n      }\n    });\n  }\n\n  deleteSong(id: number): void {\n    if (confirm('Are you sure you want to delete this song?')) {\n      this.songService.deleteSong(id).subscribe({\n        next: () => {\n          this.songs = this.songs.filter(song => song.id !== id);\n        },\n        error: (err) => {\n          this.error = 'Failed to delete song. Please try again later.';\n          console.error('Error deleting song:', err);\n        }\n      });\n    }\n  }\n\n  // Helper methods for displaying song information\n  getKeyTypeClass(song: Song): string {\n    return song.is_minor ? 'badge bg-secondary' : 'badge bg-primary';\n  }\n\n  getKeyTypeLabel(song: Song): string {\n    return song.is_minor ? 'Minor' : 'Major';\n  }\n\n  getTempoClass(category: string | undefined): string {\n    if (!category) return 'badge bg-secondary';\n    \n    switch (category.toLowerCase()) {\n      case 'slow': return 'badge bg-info';\n      case 'medium': return 'badge bg-primary';\n      case 'fast': return 'badge bg-danger';\n      default: return 'badge bg-secondary';\n    }\n  }\n\n  getOriginalClass(song: Song): string {\n    return song.is_original ? 'badge bg-success' : 'badge bg-warning text-dark';\n  }\n\n  getOriginalLabel(song: Song): string {\n    return song.is_original ? 'Original' : 'Cover';\n  }\n\n  getHitClass(song: Song): string {\n    return song.is_hit ? 'badge bg-danger' : 'badge bg-secondary';\n  }\n\n  formatDuration(seconds: number | undefined): string {\n    if (!seconds) return 'N/A';\n    \n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    \n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}